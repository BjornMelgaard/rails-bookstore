%header.navbar.navbar-default
  .container
    .navbar-header
      %button.navbar-toggle.pull-left.ml-15{ type: 'button', data: { toggle: 'collapse', target: '#navbar' } }
        %span.sr-only
        %span.icon-bar
        %span.icon-bar
        %span.icon-bar
      = link_to 'Bookstore', root_path, class: 'navbar-brand'
    = link_to '#', class: 'shop-link pull-right' do
      - unless current_order.order_items.empty?
        %span.shop-icon
          %span.shop-quantity current_order.order_items.size
    .navbar-collapse.collapse.pl-30#navbar{ aria: { expanded: 'false' } }
      %button.close.visible-xs{ type: 'button', aria: { label: 'Close' }, data: { toggle: 'collapse', target: '#navbar' } }
        %span{ aria: { hidden: 'true' } } &times;
      %ul.nav.navbar-nav
        %li= link_to 'Home', root_path
        %li.dropdown
          %a.dropdown-toggle{ href: '#', role: 'button', data: { toggle: 'dropdown' }, aria: { haspopup: 'true', expanded: 'false' } } Shop
          %ul.dropdown-menu
            %li= link_to 'Mobile development', '#'
            %li= link_to 'Photo', '#'
            %li= link_to 'Web design', '#'
        - if user_signed_in?
          %li= link_to '', new_user_session_path
          %li.dropdown
            %a.dropdown-toggle{ href: '#', role: 'button', data: { toggle: 'dropdown' }, aria: { haspopup: 'true', expanded: 'false' } } My account
            %ul.dropdown-menu
              %li= link_to 'Orders', '#'
              %li= link_to 'Settings', '#'
          %li.divider
          %li= link_to 'Log out', destroy_user_session_path
        - else
          %li= link_to 'Log in', new_user_session_path
          %li= link_to 'Sign up', new_user_registration_path
